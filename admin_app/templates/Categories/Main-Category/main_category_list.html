{% extends 'base.html' %}
{% block 'main-content' %}
<input type="hidden" id="headerdata" value="CATEGORY">
<input type="hidden" id="attribute_data" value="ADD NEW ATTRIBUTE">
<div class="content-area">
    <div class="mr-breadcrumb">
        <div class="row">
            <div class="col-lg-12">
                    <h4 class="heading">Main Categories</h4>
                    <ul class="links">
                        <li>
                            <a href="{% url 'dashboard' %}">Dashboard </a>
                        </li>
                        <li><a href="{% url 'main-category' %}">Manage Categories</a></li>
                        <li>
                            <a href="{% url 'main-category' %}">Main Categories</a>
                        </li>
                    <button type="button" class="btn btn-primary" style="float:right" data-toggle="modal" data-target="#exampleModal">Add New</button>
                    </ul> 
            </div>
        </div>
    </div>
    <div class="product-area">
        <div class="row">
            <div class="col-lg-12">
                <div class="mr-table allproduct">
                    <div class="alert alert-success validation" style="display: none;">
                        <button type="button" class="close alert-close"><span>Ã—</span></button>
                        <p class="text-left"></p> 
                    </div>
                    <div class="table-responsive">
                        <table id="geniustable" class="table table-hover dt-responsive" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th width="20%">image</th>
                                    <th width="20%">category_name</th>
                                    <th width="20%">description</th>
                                    <th>Status</th>
                                    <th>Options</th>
                                </tr>
                            </thead>
                            {% for main_data in data %}
                            <tbody>
                              <tr>
                                <td>{{ main_data.id }}</td>
                                <td><img src="{{ main_data.cate_image }}"></td>
                                <td>{{ main_data.category_name }}</td>
                                <td >{{ main_data.description }}</td>
                                <td>Active</td>
                                <td>
                                  <button class="btn btn-danger"><a href="{% url 'main-category-detail' main_data.id %}">Delete</a></button>
                                  <button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Edit</button>
                                </td>
                              </tr>
                          </tbody>  
                        {% endfor %}
                        </table>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
	<div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="modal1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
            <div class="submit-loader">
                    <img  src="https://product.geniusocean.com/geniuscart/assets/images/1564224329loading3.gif" alt="">
            </div>
        <div class="modal-header">
        <h5 class="modal-title"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
</div>
<div class="modal-body">
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
	<div class="modal fade" id="attribute" tabindex="-1" role="dialog" aria-labelledby="attribute" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
	<div class="modal-content">
			<div class="submit-loader">
					<img  src="https://product.geniusocean.com/geniuscart/assets/images/1564224329loading3.gif" alt="">
			</div>
		<div class="modal-header">
		<h5 class="modal-title"></h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
		</div>
		<div class="modal-body">
		</div>
		<div class="modal-footer">
		<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		</div>
	</div>
	</div>
</div>
<div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="modal1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
	<div class="modal-header d-block text-center">
		<h4 class="modal-title d-inline-block">Confirm Delete</h4>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
	</div>
      <!-- Modal body -->
      <div class="modal-body">
            <p class="text-center">You are about to delete this Category. Everything under this category will be deleted.</p>
            <p class="text-center">Do you want to proceed?</p>
      </div>
      <!-- Modal footer -->
      <div class="modal fade" id="delete_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            <form action="" class="d-inline delete-form" method="POST">
              <input type="hidden" name="_method" value="delete" />
              <input type="hidden" name="_token" value="tabsErUdpFmv9xR99xxSlaDNChB1R3Hni633U8kr">
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </div>
      </div>

    </div>
  </div>
</div>
					</div>
				</div>
			</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add MainCategory</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
     <!DOCTYPE html>
<html>
 
  <body>
    <form method="POST" action="{% url 'main-category' %}" enctype="multipart/form-data">

      <div class="formcontainer">
      <div class="container">
        <label for="category_name"><strong>category_name</strong></label><br>
        <input type="text" placeholder="Enter category_name" name="category_name" required><br>
        <label for="description"><strong>description</strong></label><br>
        <input type="text" placeholder="Enter description" name="description" required><br>
        <label for="cate_image"><strong>cate_image (size cannot exceed 1 MB)</strong></label><br>
        <input type="file" placeholder="cate_image" name="cate_image" accept="cate_image/jpeg, cate_image/png, cate_image/gif" required><br>
      </div>
      <div class="container" style="background-color: #eee">
      </div>
        <button type="submit" class="btn btn-primary"><strong>Submit</strong></button>
    </form>
  </body>
</html>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endblock 'main-content' %}
